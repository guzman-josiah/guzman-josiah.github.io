<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Install Gallery</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, sans-serif; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .container { 
            background: white; 
            padding: 40px 30px; 
            border-radius: 20px; 
            max-width: 500px; 
            width: 100%;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2); 
        }
        h1 { 
            font-size: 32px; 
            margin-bottom: 10px; 
            color: #333;
            text-align: center;
        }
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 16px;
        }
        .warning-box {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 25px;
            text-align: center;
        }
        .warning-box strong {
            color: #856404;
            font-size: 16px;
            display: block;
            margin-bottom: 5px;
        }
        .warning-box p {
            color: #856404;
            font-size: 14px;
            line-height: 1.5;
        }
        .browser-detect {
            background: #f8d7da;
            border: 2px solid #dc3545;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 25px;
            display: none;
        }
        .browser-detect p {
            color: #721c24;
            font-size: 14px;
            line-height: 1.6;
            margin: 0;
        }
        .steps { 
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
            line-height: 1.8;
        }
        .steps-title {
            font-weight: 600;
            font-size: 18px;
            margin-bottom: 15px;
            color: #333;
        }
        .step {
            margin-bottom: 12px;
            padding-left: 25px;
            position: relative;
            color: #555;
        }
        .step:before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: #007aff;
            font-weight: bold;
        }
        .important {
            background: #e3f2fd;
            border-left: 4px solid #007aff;
            padding: 15px;
            margin: 20px 0;
            border-radius: 8px;
        }
        .important strong {
            color: #0056b3;
            display: block;
            margin-bottom: 8px;
            font-size: 16px;
        }
        .important p {
            color: #004085;
            margin: 0;
            font-size: 14px;
            line-height: 1.6;
        }
        .checkbox-container {
            background: #f0f0f0;
            padding: 15px;
            border-radius: 12px;
            margin-bottom: 20px;
            display: flex;
            align-items: flex-start;
            gap: 12px;
            cursor: pointer;
            transition: background 0.2s;
        }
        .checkbox-container:hover {
            background: #e8e8e8;
        }
        .checkbox-container input[type="checkbox"] {
            width: 24px;
            height: 24px;
            cursor: pointer;
            margin-top: 2px;
            flex-shrink: 0;
        }
        .checkbox-container label {
            cursor: pointer;
            line-height: 1.5;
            color: #333;
            font-size: 15px;
            user-select: none;
        }
        .btn { 
            background: #007aff; 
            color: white; 
            border: none; 
            padding: 16px 40px; 
            border-radius: 12px; 
            font-size: 18px; 
            font-weight: 600;
            text-decoration: none; 
            display: block;
            width: 100%;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(0,122,255,0.3);
        }
        .btn:hover {
            background: #0056b3;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,122,255,0.4);
        }
        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        .btn:disabled:hover {
            background: #ccc;
            transform: none;
        }
        .emoji {
            font-size: 48px;
            margin-bottom: 20px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="emoji">üì∏</div>
        <h1>Gallery App</h1>
        <p class="subtitle">Beautiful image organization for iPhone</p>
        
        <div class="browser-detect" id="browserWarning">
            <p><strong>‚ö†Ô∏è Wrong Browser Detected</strong><br>
            This app must be opened in <strong>Safari</strong>. Please copy this link and open it in Safari to continue.</p>
        </div>

        <div class="warning-box">
            <strong>‚ö†Ô∏è Important</strong>
            <p>This app ONLY works in Safari browser. If you're using Chrome, Firefox, or another browser, please open this page in Safari first.</p>
        </div>

        <div class="steps">
            <div class="steps-title">Installation Instructions:</div>
            <div class="step">Tap the blue "Open Gallery" button below</div>
            <div class="step">Wait for the Gallery app to load</div>
            <div class="step">Tap the Share button (‚éô) at the bottom of Safari</div>
            <div class="step">Scroll down and tap "Add to Home Screen"</div>
            <div class="step">Tap "Add" in the top right corner</div>
            <div class="step">The Gallery icon will appear on your home screen!</div>
        </div>

        <div class="important">
            <strong>üìù When to follow these steps:</strong>
            <p><strong>AFTER</strong> clicking the blue button below, you will see the Gallery app open. <strong>That is when</strong> you should tap the Share button (‚éô) at the bottom of your screen and follow the steps above to add it to your home screen.</p>
        </div>

        <div class="checkbox-container" onclick="toggleCheckbox()">
            <input type="checkbox" id="confirmRead" onchange="checkButton()">
            <label for="confirmRead">I have read and understood all the instructions above</label>
        </div>

        <button class="btn" id="openBtn" disabled onclick="openGallery()">Open Gallery</button>
    </div>

    <script>
        // Detect if NOT Safari
        function isSafari() {
            const ua = navigator.userAgent;
            const isIOS = /iPad|iPhone|iPod/.test(ua);
            const isWebkit = /WebKit/.test(ua);
            const isChrome = /CriOS/.test(ua);
            const isFirefox = /FxiOS/.test(ua);
            const isSafariUA = /Safari/.test(ua);
            
            // It's Safari if it's iOS, has WebKit, is not Chrome/Firefox, and has Safari in UA
            return isIOS && isWebkit && !isChrome && !isFirefox && isSafariUA;
        }

        // Show warning if not Safari
        if (!isSafari()) {
            document.getElementById('browserWarning').style.display = 'block';
        }

        function toggleCheckbox() {
            const checkbox = document.getElementById('confirmRead');
            checkbox.checked = !checkbox.checked;
            checkButton();
        }

        function checkButton() {
            const checkbox = document.getElementById('confirmRead');
            const button = document.getElementById('openBtn');
            button.disabled = !checkbox.checked;
        }

        function openGallery() {
            // Check one more time if Safari
            if (!isSafari()) {
                alert('‚ö†Ô∏è Please open this page in Safari browser!\n\nThis app will not work properly in other browsers. Copy this link and paste it into Safari.');
                return;
            }
            
            // Open gallery
            window.location.href = 'gallery.html';
        }

        // Prevent accidental form submission
        document.getElementById('confirmRead').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                toggleCheckbox();
            }
        });
    </script>
</body>
</html>